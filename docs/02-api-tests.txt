====================================================================
COMMON API INTEGRATION TESTS
Auth Service + Product Service
====================================================================

USAGE INSTRUCTIONS (IMPORTANT):
1) Run LOGIN command first
2) Copy access_token from response
3) Paste it once below in ACCESS_TOKEN
4) Run all remaining commands without changes

====================================================================
COMMON VARIABLES (SET ONCE)
====================================================================

# üîë Paste JWT token here AFTER login
SET ACCESS_TOKEN=PASTE_ACCESS_TOKEN_HERE

# üÜî Paste product_id here AFTER create product
SET PRODUCT_ID=PASTE_PRODUCT_ID_HERE

====================================================================
AUTH SERVICE (http://127.0.0.1:5001)
====================================================================

--------------------------------------------------
1Ô∏è‚É£ Health Check
--------------------------------------------------
curl http://127.0.0.1:5001/api/v1/auth/

--------------------------------------------------
2Ô∏è‚É£ Register User
--------------------------------------------------
curl -X POST http://127.0.0.1:5001/api/v1/auth/register ^
-H "Content-Type: application/json" ^
-d "{\"email\":\"testuser@example.com\",\"password\":\"password123\"}"

--------------------------------------------------
3Ô∏è‚É£ Login User (COPY access_token)
--------------------------------------------------
curl -X POST http://127.0.0.1:5001/api/v1/auth/login ^
-H "Content-Type: application/json" ^
-d "{\"email\":\"testuser@example.com\",\"password\":\"password123\"}"

# ‚¨Ü COPY access_token from response
# ‚¨Ü Paste it in ACCESS_TOKEN above

--------------------------------------------------
4Ô∏è‚É£ Get User Profile
--------------------------------------------------
curl -X GET http://127.0.0.1:5001/api/v1/auth/profile ^
-H "Authorization: Bearer %ACCESS_TOKEN%"

--------------------------------------------------
5Ô∏è‚É£ Update User Profile
--------------------------------------------------
curl -X PUT http://127.0.0.1:5001/api/v1/auth/profile ^
-H "Authorization: Bearer %ACCESS_TOKEN%" ^
-H "Content-Type: application/json" ^
-d "{\"email\":\"updateduser@example.com\"}"

--------------------------------------------------
6Ô∏è‚É£ Logout User
--------------------------------------------------
curl -X POST http://127.0.0.1:5001/api/v1/auth/logout ^
-H "Authorization: Bearer %ACCESS_TOKEN%"

====================================================================
PRODUCT SERVICE (http://127.0.0.1:5002)
====================================================================

--------------------------------------------------
7Ô∏è‚É£ Health Check
--------------------------------------------------
curl http://127.0.0.1:5002/api/v1/products/

--------------------------------------------------
8Ô∏è‚É£ Create Product
--------------------------------------------------
curl -X POST http://127.0.0.1:5002/api/v1/products/ ^
-H "Authorization: Bearer %ACCESS_TOKEN%" ^
-H "Content-Type: application/json" ^
-d "{\"name\":\"Laptop\",\"price\":55000,\"description\":\"Gaming laptop\"}"

# ‚¨Ü COPY product_id from response
# ‚¨Ü Paste it in PRODUCT_ID above

--------------------------------------------------
9Ô∏è‚É£ Get All Products
--------------------------------------------------
curl -X GET http://127.0.0.1:5002/api/v1/products/all ^
-H "Authorization: Bearer %ACCESS_TOKEN%"

--------------------------------------------------
üîü Get Product By ID
--------------------------------------------------
curl -X GET http://127.0.0.1:5002/api/v1/products/%PRODUCT_ID% ^
-H "Authorization: Bearer %ACCESS_TOKEN%"

--------------------------------------------------
1Ô∏è‚É£1Ô∏è‚É£ Update Product
--------------------------------------------------
curl -X PUT http://127.0.0.1:5002/api/v1/products/%PRODUCT_ID% ^
-H "Authorization: Bearer %ACCESS_TOKEN%" ^
-H "Content-Type: application/json" ^
-d "{\"name\":\"Laptop Pro\",\"price\":65000,\"description\":\"Upgraded gaming laptop\"}"

--------------------------------------------------
1Ô∏è‚É£2Ô∏è‚É£ Delete Product
--------------------------------------------------
curl -X DELETE http://127.0.0.1:5002/api/v1/products/%PRODUCT_ID% ^
-H "Authorization: Bearer %ACCESS_TOKEN%"

====================================================================
END OF COMMON API TEST FILE
====================================================================
