====================================================================
FULL E-COMMERCE BACKEND ‚Äì INTEGRATION TESTS
SELLER + CUSTOMER FLOW
(Auth Service + Product Service)
LOCAL + LIVE (RENDER)
====================================================================

USAGE INSTRUCTIONS (IMPORTANT):
1) Choose ENVIRONMENT (LOCAL or LIVE)
2) Set BASE URLs (ONLY ONCE)
3) Run commands TOP ‚Üí BOTTOM
4) After LOGIN, copy access_token
5) Paste token into variables section
6) Do NOT modify payloads

====================================================================
üîÅ ENVIRONMENT SWITCH (CHOOSE ONE)
====================================================================

REM ==================================================
REM üëâ LOCAL ENVIRONMENT (WHEN RUNNING LOCALLY)
REM ==================================================
REM SET AUTH_BASE_URL=http://127.0.0.1:5001
REM SET PRODUCT_BASE_URL=http://127.0.0.1:5002

REM ==================================================
REM üëâ LIVE ENVIRONMENT (RENDER) ‚úÖ ACTIVE
REM ==================================================
SET AUTH_BASE_URL=https://backend-auth-service-dkn7.onrender.com
SET PRODUCT_BASE_URL=https://backend-product-service.onrender.com

====================================================================
COMMON VARIABLES (SET MANUALLY AFTER LOGIN / CREATE)
====================================================================

REM üîë Paste SELLER JWT token here after seller login
SET SELLER_TOKEN=PASTE_SELLER_ACCESS_TOKEN_HERE

REM üîë Paste CUSTOMER JWT token here after customer login
SET CUSTOMER_TOKEN=PASTE_CUSTOMER_ACCESS_TOKEN_HERE

REM üÜî Paste product ID here after product creation
SET PRODUCT_ID=PASTE_PRODUCT_ID_HERE

====================================================================
AUTH SERVICE
====================================================================

--------------------------------------------------
1Ô∏è‚É£ AUTH SERVICE ‚Äì HEALTH CHECK
--------------------------------------------------
curl %AUTH_BASE_URL%/api/v1/auth/

--------------------------------------------------
2Ô∏è‚É£ SELLER REGISTRATION
--------------------------------------------------
curl -X POST %AUTH_BASE_URL%/api/v1/auth/angularUser/register ^
-H "Content-Type: application/json" ^
-d "{\"email\":\"seller@test.com\",\"password\":\"seller123\",\"role\":\"seller\"}"

--------------------------------------------------
3Ô∏è‚É£ SELLER LOGIN (COPY access_token)
--------------------------------------------------
curl -X POST %AUTH_BASE_URL%/api/v1/auth/angularUser/login ^
-H "Content-Type: application/json" ^
-d "{\"email\":\"seller@test.com\",\"password\":\"seller123\"}"

REM ‚¨Ü COPY access_token
REM ‚¨Ü PASTE INTO SELLER_TOKEN ABOVE

--------------------------------------------------
4Ô∏è‚É£ SELLER PROFILE (JWT VERIFY)
--------------------------------------------------
curl -X GET %AUTH_BASE_URL%/api/v1/auth/profile ^
-H "Authorization: Bearer %SELLER_TOKEN%"

====================================================================
PRODUCT SERVICE
====================================================================

--------------------------------------------------
5Ô∏è‚É£ PRODUCT SERVICE ‚Äì HEALTH CHECK
--------------------------------------------------
curl %PRODUCT_BASE_URL%/api/angularProduct/health

--------------------------------------------------
6Ô∏è‚É£ SELLER ADDS PRODUCT (JWT REQUIRED)
--------------------------------------------------
curl -X POST %PRODUCT_BASE_URL%/api/angularProduct/add ^
-H "Authorization: Bearer %SELLER_TOKEN%" ^
-H "Content-Type: application/json" ^
-d "{\"name\":\"Laptop\",\"price\":55000,\"description\":\"Gaming laptop\"}"

REM ‚¨Ü COPY product ID FROM RESPONSE
REM ‚¨Ü PASTE INTO PRODUCT_ID ABOVE

--------------------------------------------------
7Ô∏è‚É£ SELLER VIEWS ALL PRODUCTS
--------------------------------------------------
curl -X GET %PRODUCT_BASE_URL%/api/angularProduct/get

--------------------------------------------------
8Ô∏è‚É£ SELLER VIEWS SINGLE PRODUCT
--------------------------------------------------
curl -X GET %PRODUCT_BASE_URL%/api/angularProduct/get/%PRODUCT_ID%

--------------------------------------------------
9Ô∏è‚É£ SELLER LOGOUT
--------------------------------------------------
curl -X POST %AUTH_BASE_URL%/api/v1/auth/logout ^
-H "Authorization: Bearer %SELLER_TOKEN%"

====================================================================
CUSTOMER / USER FLOW
====================================================================

--------------------------------------------------
üîü CUSTOMER REGISTRATION
--------------------------------------------------
curl -X POST %AUTH_BASE_URL%/api/v1/auth/angularUser/register ^
-H "Content-Type: application/json" ^
-d "{\"email\":\"user@test.com\",\"password\":\"user123\",\"role\":\"user\"}"

--------------------------------------------------
1Ô∏è‚É£1Ô∏è‚É£ CUSTOMER LOGIN (COPY access_token)
--------------------------------------------------
curl -X POST %AUTH_BASE_URL%/api/v1/auth/angularUser/login ^
-H "Content-Type: application/json" ^
-d "{\"email\":\"user@test.com\",\"password\":\"user123\"}"

REM ‚¨Ü COPY access_token
REM ‚¨Ü PASTE INTO CUSTOMER_TOKEN ABOVE

--------------------------------------------------
1Ô∏è‚É£2Ô∏è‚É£ CUSTOMER PROFILE (JWT VERIFY)
--------------------------------------------------
curl -X GET %AUTH_BASE_URL%/api/v1/auth/profile ^
-H "Authorization: Bearer %CUSTOMER_TOKEN%"

--------------------------------------------------
1Ô∏è‚É£3Ô∏è‚É£ CUSTOMER VIEWS ALL PRODUCTS
--------------------------------------------------
curl -X GET %PRODUCT_BASE_URL%/api/angularProduct/get

--------------------------------------------------
1Ô∏è‚É£4Ô∏è‚É£ CUSTOMER VIEWS SINGLE PRODUCT
--------------------------------------------------
curl -X GET %PRODUCT_BASE_URL%/api/angularProduct/get/%PRODUCT_ID%

--------------------------------------------------
1Ô∏è‚É£5Ô∏è‚É£ CUSTOMER LOGOUT
--------------------------------------------------
curl -X POST %AUTH_BASE_URL%/api/v1/auth/logout ^
-H "Authorization: Bearer %CUSTOMER_TOKEN%"

====================================================================
END OF INTEGRATION TEST FILE
====================================================================
